[Unit]
Description=pi-tor-pihole docker compose stack
After=docker.service
Requires=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
Environment=PROJECT_DIR=/opt/pi-tor
EnvironmentFile=-/etc/default/pi-tor
WorkingDirectory=${PROJECT_DIR}
ExecStart=/usr/bin/docker compose up -d --build
ExecStop=/usr/bin/docker compose down
TimeoutStartSec=300

[Install]
WantedBy=multi-user.target
